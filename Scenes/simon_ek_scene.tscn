[gd_scene load_steps=12 format=3 uid="uid://vmiplhbnsy4h"]

[ext_resource type="Script" path="res://Scripts/GameManager.gd" id="1_itpwq"]
[ext_resource type="PackedScene" uid="uid://blmikl8w11roj" path="res://Scenes/player.tscn" id="2_n3kdf"]
[ext_resource type="Script" path="res://Scripts/enemy_spawner.gd" id="3_b8wlj"]
[ext_resource type="PackedScene" path="res://Scenes/Enemies/enemy.tscn" id="4_2ey2d"]
[ext_resource type="Script" path="res://Scripts/ShopManager.gd" id="5_jxmqa"]
[ext_resource type="Texture2D" uid="uid://b27w0ddjiakbn" path="res://Assets/Sprites/UI/ui_overlay.png" id="6_pvymq"]
[ext_resource type="PackedScene" uid="uid://csykvm7f1xq7j" path="res://Scenes/Upgrades/gun_upgrade.tscn" id="7_g7jp2"]
[ext_resource type="Texture2D" uid="uid://baywma4a7d8ba" path="res://Assets/Sprites/UI/32x32_button.png" id="7_vnyei"]
[ext_resource type="Theme" uid="uid://bug82i6sy1xtq" path="res://Themes/texture_button_theme.tres" id="8_4ctao"]
[ext_resource type="Texture2D" uid="uid://ccokfawkm4ps4" path="res://Assets/Sprites/UI/buy_icon.png" id="9_yckrj"]
[ext_resource type="Texture2D" uid="uid://cdwj2q2l6ab3m" path="res://Assets/Sprites/UI/reroll_icon.png" id="10_btva0"]

[node name="EmilScene" type="Node2D"]
script = ExtResource("1_itpwq")

[node name="Player" parent="." instance=ExtResource("2_n3kdf")]
position = Vector2(291, 206)

[node name="Marker2D" type="Marker2D" parent="Player"]
position = Vector2(18, -15)

[node name="Enemies" type="Node2D" parent="."]

[node name="EnemySpawner" type="Node2D" parent="." node_paths=PackedStringArray("center", "enemies")]
script = ExtResource("3_b8wlj")
enemy_scenes = Array[PackedScene]([ExtResource("4_2ey2d")])
center = NodePath("../Player")
enemies = NodePath("../Enemies")

[node name="EnemySpawnerTimer" type="Timer" parent="EnemySpawner"]
autostart = true

[node name="WaveTimer" type="Timer" parent="EnemySpawner"]
wait_time = 5.0
autostart = true

[node name="Control" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_right = 640.0
offset_bottom = 360.0

[node name="UiOverlay" type="Sprite2D" parent="Control"]
position = Vector2(320, 180)
texture = ExtResource("6_pvymq")

[node name="ShopUpgrades" type="GridContainer" parent="Control"]
layout_mode = 0
offset_left = 3.0
offset_top = 3.0
offset_right = 139.0
offset_bottom = 363.0
scale = Vector2(1, 0.998516)
theme_override_constants/h_separation = 2
theme_override_constants/v_separation = 2
columns = 4
script = ExtResource("5_jxmqa")
testShopUpgrade = ExtResource("7_g7jp2")

[node name="ShopUpgradeButton1" type="TextureButton" parent="Control/ShopUpgrades"]
layout_mode = 2
texture_normal = ExtResource("7_vnyei")

[node name="ShopUpgradeButton2" type="TextureButton" parent="Control/ShopUpgrades"]
layout_mode = 2
texture_normal = ExtResource("7_vnyei")

[node name="ShopUpgradeButton3" type="TextureButton" parent="Control/ShopUpgrades"]
layout_mode = 2
texture_normal = ExtResource("7_vnyei")

[node name="ShopUpgradeButton4" type="TextureButton" parent="Control/ShopUpgrades"]
layout_mode = 2
texture_normal = ExtResource("7_vnyei")

[node name="ShopUpgradeButton5" type="TextureButton" parent="Control/ShopUpgrades"]
layout_mode = 2
texture_normal = ExtResource("7_vnyei")

[node name="ShopUpgradeButton6" type="TextureButton" parent="Control/ShopUpgrades"]
layout_mode = 2
texture_normal = ExtResource("7_vnyei")

[node name="ShopUpgradeButton7" type="TextureButton" parent="Control/ShopUpgrades"]
layout_mode = 2
texture_normal = ExtResource("7_vnyei")

[node name="ShopUpgradeButton8" type="TextureButton" parent="Control/ShopUpgrades"]
layout_mode = 2
texture_normal = ExtResource("7_vnyei")

[node name="HBoxContainer" type="HBoxContainer" parent="Control"]
layout_mode = 0
offset_left = 2.0
offset_top = 76.0
offset_right = 138.0
offset_bottom = 108.0
scale = Vector2(0.990985, 1.01713)

[node name="BuyButton" type="TextureButton" parent="Control/HBoxContainer"]
layout_mode = 2
theme = ExtResource("8_4ctao")
texture_normal = ExtResource("9_yckrj")

[node name="RerollButton" type="TextureButton" parent="Control/HBoxContainer"]
layout_mode = 2
texture_normal = ExtResource("10_btva0")

[node name="WaveLabel" type="RichTextLabel" parent="Control"]
layout_mode = 0
offset_left = 533.0
offset_top = 9.0
offset_right = 618.0
offset_bottom = 43.0
text = "Wave 1"

[connection signal="timeout" from="EnemySpawner/EnemySpawnerTimer" to="EnemySpawner" method="_on_enemy_spawner_timer_timeout"]
[connection signal="timeout" from="EnemySpawner/WaveTimer" to="EnemySpawner" method="_on_wave_timer_timeout"]
